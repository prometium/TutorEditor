# TutorEditor

## Разработка

### База данных

1. Устанавливаем Docker.
2. Запускаем Dgraph в Docker
   `docker run --rm -it -p "8080:8080" -p "9080:9080" -p "8000:8000" -v ~/dgraph:/dgraph "dgraph/standalone:v21.03.2"`.
   База данных доступна по адресу http://localhost:9080/. Инспектор базы данных доступен по адресу http://localhost:8000/.

### Сервер

1. Устанавливаем Golang.
2. Переходим в директорию editorsvc.
3. Создаем .env файл c нужными значениями переменных окружения.
4. Предварительно запускаем БД.
5. Запускаем сервер 
   `go run cmd/main.go "-http.addr" ":9001"` или `make run`.
   Сервер доступен по адресу http://localhost:9001/.

### Веб-клиент

1. Устанавливаем Node.js.
2. Переходим в директорию editor-web-app.
3. Устанавливаем зависимости
   `npm install`.
4. Создаем файл .env c нужными значениями переменных окружения.
5. Запускаем сервер для разработки
   `npm run serve`.
   Клиент доступен по адресу http://localhost:3000/.

### S3

Можно запустить через docker-compose.

## Разворачивание в контейнерах

Задаем нужные переменные окружения в файлах .env.
Конфиг для разворачивания доступен в файле docker-compose.yml. Для сборки и запуска используем
`docker-compose up`.
