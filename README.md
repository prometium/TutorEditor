# TutorEditor

## Разработка

### База данных

1. Устанавливаем Docker.
2. Запускаем Dgraph в Docker
   `docker run --rm -it -p "8080:8080" -p "9080:9080" -p "8000:8000" -v ~/dgraph:/dgraph "dgraph/standalone:v21.03.2"`.
   База данных доступна по адресу http://localhost:9080/. Инспектор базы данных доступен по адресу http://localhost:8000/.

### Сервер

1. Устаналиваем Golang.
2. Переходим в директорию editorsvc.
3. Создаем .env файл c нужными значениями переменных окружения.
4. Запускаем сервер 
   `go run cmd/main.go "-http.addr" ":9000"` (перед этим должна быть запущена БД!).
   Сервер доступен по адресу http://localhost:9000/.

### Веб-клиент

1. Устаналиваем Node.js.
2. Переходим в директорию editor-web-app.
3. Устанавливаем зависимости
   `npm install`.
4. Создаем файл .env c нужными значениями переменных окружения.
5. Запускаем сервер для разработки
   `npm run serve`.
   Клиент доступен по адресу http://localhost:3000/.

## Развертывание

Устанавливаем Docker, Golang, Node.js.
Задаем нужные переменные окружения в файлах .env.
Конфиг для развертывания доступен в файле docker-compose.yml. Для сборки и запуска используем
`docker-compose up`.

По непонятной причине сервер недоступен за пределами контейнера. Решение пока найти не удалось.
